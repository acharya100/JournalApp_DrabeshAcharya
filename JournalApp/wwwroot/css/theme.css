/* Dark Theme Styles */
[data-bs-theme="dark"],
.dark-theme {
    --bs-body-bg: #1a1a1a;
    --bs-body-color: #e0e0e0;
    --bs-border-color: #444;
    --bs-card-bg: #2d2d2d;
    --bs-card-border-color: #444;

    /* Tag Container */
    --bs-tag-container-bg: #2d2d2d;

    /* Calendar Specifics - Dark Mode */
    --bs-calendar-bg: #2d2d2d;
    --bs-calendar-header-bg: #3a3a3a;
    --bs-calendar-border-color: #444;
    --bs-calendar-day-bg: #2d2d2d;
    --bs-calendar-day-hover-bg: #3a3a3a;
    --bs-calendar-day-other-bg: #1a1a1a;
    --bs-calendar-day-other-color: #6c757d;
    --bs-calendar-today-bg: #0c4128;
    /* Darker green */
}

[data-bs-theme="dark"] .card,
.dark-theme .card {
    background-color: var(--bs-card-bg);
    border-color: var(--bs-card-border-color);
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .card-header,
.dark-theme .card-header {
    background-color: #3a3a3a;
    border-bottom-color: var(--bs-border-color);
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .form-control,
[data-bs-theme="dark"] .form-select,
.dark-theme .form-control,
.dark-theme .form-select {
    background-color: #2d2d2d;
    border-color: #555;
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .form-control:focus,
[data-bs-theme="dark"] .form-select:focus,
.dark-theme .form-control:focus,
.dark-theme .form-select:focus {
    background-color: #2d2d2d;
    border-color: #0d6efd;
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .list-group-item,
.dark-theme .list-group-item {
    background-color: var(--bs-card-bg);
    border-color: var(--bs-border-color);
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .table,
.dark-theme .table {
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .table thead th,
.dark-theme .table thead th {
    border-bottom-color: var(--bs-border-color);
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .table tbody td,
.dark-theme .table tbody td {
    border-top-color: var(--bs-border-color);
}

[data-bs-theme="dark"] .text-muted,
.dark-theme .text-muted {
    color: #999 !important;
}

[data-bs-theme="dark"] .top-row,
.dark-theme .top-row {
    background-color: #2d2d2d;
    border-bottom-color: var(--bs-border-color);
}

[data-bs-theme="dark"] .tag-container,
.dark-theme .tag-container {
    background-color: var(--bs-tag-container-bg);
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .content,
.dark-theme .content {
    background-color: var(--bs-body-bg);
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .page,
.dark-theme .page {
    background-color: var(--bs-body-bg);
}

[data-bs-theme="dark"] .alert-info,
.dark-theme .alert-info {
    background-color: #1e3a5f;
    border-color: #2d5a8a;
    color: #b3d9ff;
}

[data-bs-theme="dark"] .alert-success,
.dark-theme .alert-success {
    background-color: #1e4d2e;
    border-color: #2d6a3f;
    color: #b3ffb3;
}

[data-bs-theme="dark"] .alert-warning,
.dark-theme .alert-warning {
    background-color: #4d3d1e;
    border-color: #6a5a2d;
    color: #ffd9b3;
}

[data-bs-theme="dark"] .alert-danger,
.dark-theme .alert-danger {
    --bs-danger-bg-subtle: #4d1e1e;
    --bs-danger-border-subtle: #6a2d2d;
    --bs-danger-text-emphasis: #ffb3b3;
}

/* Light Theme Variables (Default) */
:root,
[data-bs-theme="light"] {
    /* Calendar Specifics - Light Mode */
    --bs-calendar-bg: #ddd;
    --bs-calendar-header-bg: #f8f9fa;
    --bs-calendar-border-color: #ddd;
    --bs-calendar-day-bg: #ffffff;
    --bs-calendar-day-hover-bg: #f0f0f0;
    --bs-calendar-day-other-bg: #f8f9fa;
    --bs-calendar-day-other-color: #999;
    --bs-calendar-today-bg: #e3f2fd;
}

/* Quill Editor Dark Mode Overrides */
[data-bs-theme="dark"] .ql-toolbar {
    background-color: #3a3a3a;
    border-color: #444 !important;
}

[data-bs-theme="dark"] .ql-toolbar .ql-stroke {
    stroke: #e0e0e0;
}

[data-bs-theme="dark"] .ql-toolbar .ql-fill {
    fill: #e0e0e0;
}

[data-bs-theme="dark"] .ql-toolbar .ql-picker {
    color: #e0e0e0;
}

[data-bs-theme="dark"] .ql-container {
    background-color: #2d2d2d;
    border-color: #444 !important;
    color: #e0e0e0;
}

[data-bs-theme="dark"] .ql-editor.ql-blank::before {
    color: #999;
}

/* Quill Picker (Dropdown) Dark Mode Overrides */
[data-bs-theme="dark"] .ql-snow .ql-picker-options {
    background-color: #3a3a3a !important;
    border-color: #444 !important;
}

[data-bs-theme="dark"] .ql-snow .ql-picker {
    color: #e0e0e0;
}

[data-bs-theme="dark"] .ql-snow .ql-picker-label {
    color: #e0e0e0;
}

[data-bs-theme="dark"] .ql-snow .ql-picker-label::before {
    color: #e0e0e0;
}

[data-bs-theme="dark"] .ql-snow .ql-picker-item {
    color: #e0e0e0 !important;
}

[data-bs-theme="dark"] .ql-snow .ql-picker-item:hover,
[data-bs-theme="dark"] .ql-snow .ql-picker-item.ql-selected {
    color: #fff !important;
    background-color: #444 !important;
}

[data-bs-theme="dark"] .ql-snow .ql-picker.ql-expanded .ql-picker-label {
    color: #ccc;
    border-color: #444 !important;
}

[data-bs-theme="dark"] .ql-toolbar.ql-snow .ql-picker-label:hover {
    color: #fff;
}

/* Force override for calendar dark mode issues if scoped CSS fails */
[data-bs-theme="dark"] .calendar-day {
    background-color: var(--bs-calendar-day-bg) !important;
    color: var(--bs-body-color) !important;
    border-color: var(--bs-calendar-border-color);
}

[data-bs-theme="dark"] .calendar-day-header {
    background-color: var(--bs-calendar-header-bg) !important;
    color: var(--bs-body-color) !important;
}

[data-bs-theme="dark"] .calendar-grid {
    background-color: var(--bs-calendar-border-color) !important;
    border-color: var(--bs-calendar-border-color) !important;
}